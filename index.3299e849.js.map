{"mappings":"iiBAGA,I,EAAAA,EAAAC,EAAA,S,uCAIMC,EAAcC,SAASC,cAAc,kBACrCC,EAAaF,SAASC,cAAc,mBAEtCE,EAAiB,GAEfC,EAAWJ,SAASC,cAAc,cAElCI,EAAsB,WAC1BF,EAAiBJ,EAAYO,MAC7B,IAAMC,EAAgB,GAAmCC,OAV1C,gCAUmB,yBAAwCA,OAAjBC,EAAAC,QAAQ,WAAwBF,OAAfL,GAG1E,OADAQ,QAAQC,IAAIL,GACLA,C,EAGHM,G,EAAqBC,EAAAjB,EAAA,CAAAiB,EAAAC,GAAAC,MAAA,SAAAC,EAAMC,G,IAKvBX,EACAY,EACEC,E,yEANVF,EAAMG,iB,kBAIwBhB,I,cAAtBE,EAAae,EAAAC,K,SACIT,EAAAU,GAAMC,IAAIlB,G,OAA3BY,EAAQG,EAAAC,KACRH,EAAWD,EAATC,KACRT,QAAQC,IAAIQ,EAAKM,SACjBtB,EAASuB,UAAY,GACrBP,EAAKM,QAAQE,KAAI,SAAAC,GACf,IAAMC,EAAgBD,EAAKE,aAAaC,MAAM,KAC3C5B,EAAS6B,mBAAmB,YAAY,iBAEtCzB,OAFuDqB,EAAKK,GAAG,iDAQlC1B,OAN7BqB,EAAKM,YAAY,uKAOc3B,OADFqB,EAAKO,MAAM,mDAEJ5B,OADLsB,EAAc,GAAG,0DACMtB,OAAlBqB,EAAKQ,aAAa,iD,sDAM7D1B,QAAQC,IAAGU,EAAAgB,I,mEA5BkBpB,G,iCAgCjChB,EAAWqC,iBAAiB,SAAU1B,E","sources":["src/js/search.js"],"sourcesContent":["// ---------\n// в header-home.html need to add name=\"searchQuery\" to input + add form instead of div\n\nimport { API_KEY } from './api-key';\nimport axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/'; // нужно вынести ее в отдельный файл чтоб все могли экспортировать\nconst searchQuery = document.querySelector('.search__input');\nconst formSearch = document.querySelector('.header__search');\n\nlet userSearchData = '';\n\nconst filmList = document.querySelector('.film_list');\n\nconst createUrlFilmSearch = () => {\n  userSearchData = searchQuery.value;\n  const urlFilmSearch = `${BASE_URL}search/movie?api_key=${API_KEY}&query=${userSearchData}`;\n  \n  console.log(urlFilmSearch)\n  return urlFilmSearch;\n};\n\nconst handleSearchSubmit = async event => {\n  event.preventDefault();\n\n  // need to add - clearPreviousSearch();\n  try {\n    const urlFilmSearch = await createUrlFilmSearch();\n    const response = await axios.get(urlFilmSearch);\n    const { data } = response;\n    console.log(data.results);\n    filmList.innerHTML = '';\n    data.results.map(film => {\n      const yearOfRelease = film.release_date.split('-');\n         filmList.insertAdjacentHTML(\"beforeend\",`<div film-id=\"${film.id}\" class=\"film-list__item\">\n  <img\n    src=\"${film.poster_path}\"\n    alt=\"Movie Name\"\n    class=\"film-list__item-poster\"\n    loading=\"lazy\"\n  />\n  <div class=\"film-list__item-info\">\n    <h3 class=\"film-list__item-title\">${film.title}</h3>\n   <span class=\"film-list__item-year\">| ${yearOfRelease[0]}</span>\n    <span class=\"film-list__item-rate\">&nbsp;${film.vote_average}&nbsp;</span>\n    </div>\n  </div>\n  </div>`)\n       })\n      } catch (error) {\n    console.log(error);\n  }\n};\n\nformSearch.addEventListener('submit', handleSearchSubmit);\n"],"names":["$bpxeT","parcelRequire","$d35904b1c7f1c41e$var$searchQuery","document","querySelector","$d35904b1c7f1c41e$var$formSearch","$d35904b1c7f1c41e$var$userSearchData","$d35904b1c7f1c41e$var$filmList","$d35904b1c7f1c41e$var$createUrlFilmSearch","value","urlFilmSearch","concat","$hM3Qt","API_KEY","console","log","$d35904b1c7f1c41e$var$handleSearchSubmit","$parcel$interopDefault","$2TvXO","mark","_callee","event","response","data","preventDefault","_ctx","sent","$dIxxU","get","results","innerHTML","map","film","yearOfRelease","release_date","split","insertAdjacentHTML","id","poster_path","title","vote_average","t0","addEventListener"],"version":3,"file":"index.3299e849.js.map"}