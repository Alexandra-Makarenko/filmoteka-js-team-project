{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAG8C,MAAxCC,EAAK,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,QAC5HC,aAAaC,QAAQ,UAAWC,KAAKC,UAAUJ,IAC/CC,aAAaC,QAAQ,QAASC,KAAKC,UAAUJ,IAE7C,MACMK,EAAoBF,KAAKG,MAAML,aAAaM,QAAQ,WAAWC,MAAM,MACrEC,EAAkBN,KAAKG,MAAML,aAAaM,QAAQ,SAASC,MAAM,MAEjEE,EAAO,CACXC,SAAUC,SAASC,cAAc,UACjCC,WAAYF,SAASC,cAAc,YACnCE,IAAKH,SAASC,cAAc,YAC5BG,KAAMJ,SAASC,cAAc,SAC7BC,WAAYF,SAASC,cAAc,YACnCI,SAAUL,SAASC,cAAc,eAGnCH,EAAKC,SAASO,iBAAiB,SAS/B,WAEOT,IACHC,EAAKO,SAASE,UAAY,gCAE5BV,EAAgBW,KAAIC,GAXEC,OAAOC,IAC7B,MAAMC,QAAiBC,MAAM,sCAAaF,aAAczB,EAAA4B,WAExD,aADoBF,EAASG,MACjB,EAQgBC,CAAgBP,GAAMQ,MAAKC,IAErD,MAAMC,EAAgBD,EAAKE,aAAaxB,MAAM,KAC9CE,EAAKO,SAASgB,mBAAmB,YAAY,yFAEPH,EAAKI,qLAMPJ,EAAKK,6GAEHJ,EAAc,qDACfD,EAAKM,6CAEnC,MAET1B,EAAKO,SAASE,UAAY,E,IA/B5BT,EAAKI,WAAWI,iBAAiB,SAgDjC,WAEOb,IACHK,EAAKO,SAASE,UAAY,gCAE5Bd,EAAkBe,KAAIiB,GAXEf,OAAOgB,IAC/B,MAAMd,QAAiBC,MAAM,sCAAsCa,aAAcxC,EAAA4B,WAEjF,aADoBF,EAASG,MACjB,EAQkBY,CAAkBF,GAAMR,MAAKC,IAEzD,MAAMC,EAAgBD,EAAKE,aAAaxB,MAAM,KAC9CE,EAAKO,SAASgB,mBAAmB,YAAY,yFAEPH,EAAKI,qLAMPJ,EAAKK,6GAEHJ,EAAc,qDACfD,EAAKM,6CAEnC,MAET1B,EAAKO,SAASE,UAAY,E","sources":["src/js/buttons.js"],"sourcesContent":["import { API_KEY } from './api-key';\n\n//заглушка айдішніків поки нема локального збереження\nconst id = [616037, 532639, 361743, 760741, 762504, 616037, 532639, 361743, 760741, 762504, 616037, 532639, 361743, 760741, 762504]\nlocalStorage.setItem('watched', JSON.stringify(id))\nlocalStorage.setItem('queue', JSON.stringify(id))\n\nconst baseURL = \"https://api.themoviedb.org/3/movie/\"\nconst savedWatchedFilms = JSON.parse(localStorage.getItem('watched').split(','))\nconst savedQueueFilms = JSON.parse(localStorage.getItem('queue').split(','))\n\nconst refs = {\n  btnQueue: document.querySelector('#queue'),\n  btnWatched: document.querySelector('#watched'),\n  div: document.querySelector('#library'),\n  text: document.querySelector('#text'),\n  btnWatched: document.querySelector('#watched'),\n  filmList: document.querySelector('.film_list'),\n};\n\nrefs.btnQueue.addEventListener('click', onBtnQueue);\nrefs.btnWatched.addEventListener('click', onBtnWatched)\n\nconst fetchQueueFilms = async (id) => {\n  const response = await fetch(`${baseURL}${id}?api_key=${API_KEY}`);\n  const films = await response.json();\n  return films;\n  };\n\nfunction onBtnQueue() {\n  // hideMessage();\n  if (!savedQueueFilms) {\n    refs.filmList.innerHTML = '<p>Sorry, list is empty(</p>'\n  } \n  savedQueueFilms.map(film => fetchQueueFilms(film).then(film => \n  {\n    const yearOfRelease = film.release_date.split('-');\n    refs.filmList.insertAdjacentHTML(\"beforeend\",`<li id=\"\" class=\"film-list__item\">\n    <img\n    src=\"https://image.tmdb.org/t/p/w500${film.poster_path}\"\n    alt=\"Movie Name\"\n    class=\"film-list__item-poster\"\n    loading=\"lazy\"\n    />\n    <div class=\"film-list__item-info\">\n    <h3 class=\"film-list__item-title\">${film.title}</h3>\n   <span class=\"film-list__item-genres\">жанри</span>\n   <span class=\"film-list__item-genres\">${yearOfRelease[0]}</span>\n    <span class=\"film-list__item-rate\">${film.vote_average}</span>\n    </div>\n    </li>`)\n}))\n  refs.filmList.innerHTML = '';\n}\n\n//заховати повідомлення \"будь ласка, оберіть категорію\"\n// function hideMessage(){\n//   if(refs.text.classList.contains(\"library-message\")){\n//     refs.text.classList.remove('library-message')\n//     refs.text.classList.add('library-message-hidden')\n//   }\n// }\n\nconst fetchWatchedFilms = async (id) => {\n  const response = await fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`);\n  const films = await response.json();\n  return films;\n};\n\nfunction onBtnWatched() {\n  // hideMessage();\n  if (!savedWatchedFilms) {\n    refs.filmList.innerHTML = '<p>Sorry, list is empty(</p>'\n  } \n  savedWatchedFilms.map(film => fetchWatchedFilms(film).then(film => \n  {\n    const yearOfRelease = film.release_date.split('-');\n    refs.filmList.insertAdjacentHTML(\"beforeend\",`<li id=\"\" class=\"film-list__item\">\n    <img\n    src=\"https://image.tmdb.org/t/p/w500${film.poster_path}\"\n    alt=\"Movie Name\"\n    class=\"film-list__item-poster\"\n    loading=\"lazy\"\n    />\n    <div class=\"film-list__item-info\">\n    <h3 class=\"film-list__item-title\">${film.title}</h3>\n   <span class=\"film-list__item-genres\">жанри</span>\n   <span class=\"film-list__item-genres\">${yearOfRelease[0]}</span>\n    <span class=\"film-list__item-rate\">${film.vote_average}</span>\n    </div>\n    </li>`)\n}))\n  refs.filmList.innerHTML = '';\n}"],"names":["$fPgXx","parcelRequire","$9b6cfdef6aa0953f$var$id","localStorage","setItem","JSON","stringify","$9b6cfdef6aa0953f$var$savedWatchedFilms","parse","getItem","split","$9b6cfdef6aa0953f$var$savedQueueFilms","$9b6cfdef6aa0953f$var$refs","btnQueue","document","querySelector","btnWatched","div","text","filmList","addEventListener","innerHTML","map","film1","async","id1","response","fetch","API_KEY","json","$9b6cfdef6aa0953f$var$fetchQueueFilms","then","film","yearOfRelease","release_date","insertAdjacentHTML","poster_path","title","vote_average","film2","id2","$9b6cfdef6aa0953f$var$fetchWatchedFilms"],"version":3,"file":"library.eac615f8.js.map"}