{"mappings":"qhBAGA,IAAAA,EAAAC,EAAA,S,aAGA,MACMC,EAAcC,SAASC,cAAc,kBACrCC,EAAaF,SAASC,cAAc,mBAE1C,IAAIE,EAAiB,GAErB,MAAMC,EAAWJ,SAASC,cAAc,cA0CxCC,EAAWG,iBAAiB,UAhCDC,MAAMC,IAC/BA,EAAMC,iBAGN,IACE,MAAMC,OAbkB,MAC1BN,EAAiBJ,EAAYW,MAC7B,MAAMD,EAAgB,qDAAmCZ,EAAAc,iBAAiBR,IAG1E,OADAS,QAAQC,IAAIJ,GACLA,CAAa,EAQUK,GACtBC,QAAiBC,EAAAC,GAAMC,IAAIT,IAC3BU,KAAEA,GAASJ,EACjBH,QAAQC,IAAIM,EAAKC,SACjBhB,EAASiB,UAAY,GACrBF,EAAKC,QAAQE,KAAIC,IACf,MAAMC,EAAgBD,EAAKE,aAAaC,MAAM,KAC3CtB,EAASuB,mBAAmB,YAAY,iBAAiBJ,EAAKK,kDAE5DL,EAAKM,iLAMwBN,EAAKO,uDACHN,EAAc,2DACTD,EAAKQ,4DAG1C,G,CAEF,MAAOC,GACXpB,QAAQC,IAAImB,E","sources":["src/js/search.js"],"sourcesContent":["// ---------\n// в header-home.html need to add name=\"searchQuery\" to input + add form instead of div\n\nimport { API_KEY } from './api-key';\nimport axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/'; // нужно вынести ее в отдельный файл чтоб все могли экспортировать\nconst searchQuery = document.querySelector('.search__input');\nconst formSearch = document.querySelector('.header__search');\n\nlet userSearchData = '';\n\nconst filmList = document.querySelector('.film_list');\n\nconst createUrlFilmSearch = () => {\n  userSearchData = searchQuery.value;\n  const urlFilmSearch = `${BASE_URL}search/movie?api_key=${API_KEY}&query=${userSearchData}`;\n  \n  console.log(urlFilmSearch)\n  return urlFilmSearch;\n};\n\nconst handleSearchSubmit = async event => {\n  event.preventDefault();\n\n  // need to add - clearPreviousSearch();\n  try {\n    const urlFilmSearch = await createUrlFilmSearch();\n    const response = await axios.get(urlFilmSearch);\n    const { data } = response;\n    console.log(data.results);\n    filmList.innerHTML = '';\n    data.results.map(film => {\n      const yearOfRelease = film.release_date.split('-');\n         filmList.insertAdjacentHTML(\"beforeend\",`<div film-id=\"${film.id}\" class=\"film-list__item\">\n  <img\n    src=\"${film.poster_path}\"\n    alt=\"Movie Name\"\n    class=\"film-list__item-poster\"\n    loading=\"lazy\"\n  />\n  <div class=\"film-list__item-info\">\n    <h3 class=\"film-list__item-title\">${film.title}</h3>\n   <span class=\"film-list__item-year\">| ${yearOfRelease[0]}</span>\n    <span class=\"film-list__item-rate\">&nbsp;${film.vote_average}&nbsp;</span>\n    </div>\n  </div>\n  </div>`)\n       })\n      } catch (error) {\n    console.log(error);\n  }\n};\n\nformSearch.addEventListener('submit', handleSearchSubmit);\n"],"names":["$fPgXx","parcelRequire","$b18fd23e9761f35d$var$searchQuery","document","querySelector","$b18fd23e9761f35d$var$formSearch","$b18fd23e9761f35d$var$userSearchData","$b18fd23e9761f35d$var$filmList","addEventListener","async","event","preventDefault","urlFilmSearch","value","API_KEY","console","log","$b18fd23e9761f35d$var$createUrlFilmSearch","response","$parcel$interopDefault","$2shzp","get","data","results","innerHTML","map","film","yearOfRelease","release_date","split","insertAdjacentHTML","id","poster_path","title","vote_average","error"],"version":3,"file":"index.f1c58734.js.map"}