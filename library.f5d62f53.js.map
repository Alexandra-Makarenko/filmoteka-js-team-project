{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,0BAEMC,EAAO,CACTC,WAAYC,SAASC,cAAc,YACnCC,SAAUF,SAASC,cAAc,eAErCH,EAAKC,WAAWI,iBAAiB,SAUjC,WAEE,IAAIC,EAAU,CAAC,MAAM,KAAK,IAAI,GAAG,KAE5BA,IACDN,EAAKI,SAASG,UAAY,gCAE9BC,QAAQC,IAAIC,aAAaC,QAAQ,YACjCL,EAAQM,KAAI,SAAAC,G,OAAQC,EAAkBD,GAAME,MAAK,SAAAC,GAE9C,IAAMC,EAAgBD,EAAKE,aAAaC,MAAM,KAC/CnB,EAAKI,SAASgB,mBAAmB,YAAY,uFAQTC,OANEL,EAAKM,YAAY,uKAQjBD,OAFFL,EAAKO,MAAM,yGAGVF,OADCJ,EAAc,GAAG,oDACAI,OAAlBL,EAAKQ,aAAa,4B,OAMzDxB,EAAKI,SAASG,UAAY,E,IAnC5B,I,EAAMO,G,EAAoBW,EAAA3B,EAAA,CAAA2B,EAAAC,GAAAC,MAAA,SAAAC,EAAOC,G,IACzBC,EACAC,E,kFADiBC,MAAM,sCAAoDX,OAAdQ,EAAG,aAAmBR,OAARY,EAAAC,U,cAA3EJ,EAAQK,EAAAC,K,SACMN,EAASO,O,cAAvBN,EAAKI,EAAAC,K,kBACJL,G,oDAHwBF,G","sources":["src/js/watched.js"],"sourcesContent":["import { API_KEY } from './api-key';\n\nconst refs = {\n    btnWatched: document.querySelector('#watched'),\n    filmList: document.querySelector('.film_list'),\n}\nrefs.btnWatched.addEventListener('click', onWatched)\n\n\nconst fetchWatchedFilms = async (id) => {\n  const response = await fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`);\n  const films = await response.json();\n  return films;\n};\n\n\nfunction onWatched() {\n  // let watched = localStorage.getItem('watched');\n  let watched = [75780,3716,150,13,10000]\n  \n  if (!watched) {\n      refs.filmList.innerHTML = '<p>Sorry, list is empty(</p>'\n  } \n  console.log(localStorage.getItem('watched'));\n  watched.map(film => fetchWatchedFilms(film).then(film => \n  {\n     const yearOfRelease = film.release_date.split('-');\n    refs.filmList.insertAdjacentHTML(\"beforeend\",`<li id=\"\" class=\"film-list__item\">\n  <img\n    src=\"https://image.tmdb.org/t/p/w500${film.poster_path}\"\n    alt=\"Movie Name\"\n    class=\"film-list__item-poster\"\n    loading=\"lazy\"\n  />\n  <div class=\"film-list__item-info\">\n    <h3 class=\"film-list__item-title\">${film.title}</h3>\n   <span class=\"film-list__item-genres\">жанри</span>\n   <span class=\"film-list__item-genres\">${yearOfRelease[0]}</span>\n    <span class=\"film-list__item-rate\">${film.vote_average}</span>\n  </div>\n</li>`)\n  }\n  ) )\n\n  refs.filmList.innerHTML = '';\n \n}\n\n\n"],"names":["$bpxeT","parcelRequire","$a215baf1061f969f$var$refs","btnWatched","document","querySelector","filmList","addEventListener","watched","innerHTML","console","log","localStorage","getItem","map","film1","$a215baf1061f969f$var$fetchWatchedFilms","then","film","yearOfRelease","release_date","split","insertAdjacentHTML","concat","poster_path","title","vote_average","$parcel$interopDefault","$2TvXO","mark","_callee","id","response","films","fetch","$hM3Qt","API_KEY","_ctx","sent","json"],"version":3,"file":"library.f5d62f53.js.map"}