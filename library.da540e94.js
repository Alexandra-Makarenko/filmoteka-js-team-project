var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var s={id:e,exports:{}};return t[e]=s,n.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},e.parcelRequired7c6=n),n("gjiCh"),n("fPgXx");var s=n("fPgXx"),a=n("32hWK"),l=n("gjiCh");localStorage.setItem("watched",JSON.stringify([16037,532630,617430,760412,76504])),localStorage.setItem("queue",JSON.stringify([716037,632639,561743,860741,862504]));const r=JSON.parse(localStorage.getItem("watched").split(",")),o=JSON.parse(localStorage.getItem("queue").split(",")),c={btnQueue:document.querySelector("#queue"),btnWatched:document.querySelector("#watched"),div:document.querySelector("#library"),text:document.querySelector("#text"),btnWatched:document.querySelector("#watched"),filmList:document.querySelector(".film_list")};c.btnQueue.addEventListener("click",(function(){(0,l.onLoader)(),d(),c.filmList.innerHTML="",o||(c.filmList.innerHTML="<p>Sorry, list is empty(</p>",(0,l.offLoader)());o.map((e=>(async e=>{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${s.API_KEY}`);return await t.json()})(e).then((e=>{f(e).then((e=>{c.filmList.insertAdjacentHTML("beforeend",e),(0,l.offLoader)()}))}))))})),c.btnWatched.addEventListener("click",(function(){(0,l.onLoader)(),d(),c.filmList.innerHTML="",r||(c.filmList.innerHTML="<p>Sorry, list is empty(</p>",(0,l.offLoader)());r.map((e=>(async e=>{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${s.API_KEY}`);return await t.json()})(e).then((e=>{f(e).then((e=>{c.filmList.insertAdjacentHTML("beforeend",e),(0,l.offLoader)()}))}))))}));function m(e){return null!==e.poster_path?`"https://image.tmdb.org/t/p/w500${e.poster_path}"`:'"https://raw.githubusercontent.com/Alexandra-Makarenko/filmoteka-js-team-project/main/src/images/no-poster.jpg"'}function f(e){const t=function(e){return 0===e.genres.length?"Without genres":a.arrayOfGenres.then((t=>t.filter((t=>{for(const i of e.genres)if(i.id===t.id)return t.name})).map((e=>e.name)))).then((e=>e.length<3?e:[...[...e].slice(0,2),"Other"]))}(e),i=function(e){return e.release_date.split("-")}(e);return async function(e,t,i){if("Without genres"===t)return`<li film-id="${e.id}" class="film-list__item">\n  <img\n    src=${m(e)}\n    alt="${e.title}"\n    class="film-list__item-poster"\n    film-id="${e.id}"\n    loading="lazy"\n  />\n  <div class="film-list__item-info">\n    <h3 class="film-list__item-title">${e.title}</h3>\n    <div class="film-list__item-details">\n      <span class="film-list__item-genres">${t}</span>\n      <span class="film-list__item-strip">|</span>\n      <span class="film-list__item-year">${i[0]}</span>\n      <span class="film-list__item-rate">&nbsp;${e.vote_average.toFixed(1)}&nbsp;</span>\n    </div>\n  </div>\n</li>`;const n=await t.then((e=>e));return`<li film-id="${e.id}" class="film-list__item">\n  <img\n    src=${m(e)}\n    alt="${e.title}"\n    class="film-list__item-poster"\n    film-id="${e.id}"\n    loading="lazy"\n  />\n  <div class="film-list__item-info">\n    <h3 class="film-list__item-title">${e.title}</h3>\n    <div class="film-list__item-details">\n      <span class="film-list__item-genres">${n.join(", ")}</span>\n      <span class="film-list__item-strip">|</span>\n      <span class="film-list__item-year">${i[0]}</span>\n      <span class="film-list__item-rate">&nbsp;${e.vote_average.toFixed(1)}&nbsp;</span>\n    </div>\n  </div>\n</li>`}(e,t,i)}function d(){c.text.classList.contains("library-message")&&(c.text.classList.remove("library-message"),c.text.classList.add("library-message-hidden"))}n("b5rV1"),n("eVFhx"),n("32hWK"),n("6HA5D"),n("1WbfJ"),n("5I0Ww"),n("eS71k"),n("8y7EH");
//# sourceMappingURL=library.da540e94.js.map
