{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAIA,MAAMC,EAAO,CACTC,WAAYC,SAASC,cAAc,YACnCC,SAAUF,SAASC,cAAc,eAErCH,EAAKC,WAAWI,iBAAiB,SAEjC,WACI,MAAMC,EAAW,IAAI,EAAAR,EAAAS,SAGHC,EADT,EAEXF,EAASG,cAAcD,GAAME,MAAKC,IAChC,MAAMC,EAAcD,EAAEE,KAAKC,QACxBC,KAAIC,IACH,MAAMC,EAASC,EAAAC,YACZC,QAAOC,IACN,IAAK,MAAMC,KAAMN,EAAKO,UACpB,GAAID,IAAOD,EAAMC,GACf,OAAOD,EAAMG,I,IAIlBT,KAAIM,GAASA,EAAMG,OAChBC,EAAgBT,EAAKU,aAAaC,MAAM,KAC9C,MAAO,uFAE2BX,EAAKY,iLAMPZ,EAAKa,qGAEAZ,EAAOa,KAAK,2DACdL,EAAc,wCAGnD,IAECK,KAAK,IACR9B,EAAKI,SAAS2B,mBAAmB,YAAanB,GAC9CoB,QAAQC,IAAIrB,EAAY,IAhC5B,IAAsBJ,C","sources":["src/js/watched.js"],"sourcesContent":["import ApiTopFilms from './fetchTopFilms';\nimport { genresArray } from './array-of-genres';\n\n\nconst refs = {\n    btnWatched: document.querySelector('#watched'),\n    filmList: document.querySelector('.film_list'),\n}\nrefs.btnWatched.addEventListener('click', onWatched)\n\nfunction onWatched() {\n    const topFilms = new ApiTopFilms();\n\npopularFilms(1);\nfunction popularFilms(page) {\n  topFilms.fetchTopFilms(page).then(r => {\n    const listOfFilms = r.data.results\n      .map(film => {\n        const genres = genresArray\n          .filter(genre => {\n            for (const id of film.genre_ids) {\n              if (id === genre.id) {\n                return genre.name;\n              }\n            }\n          })\n          .map(genre => genre.name);\n        const yearOfRelease = film.release_date.split('-');\n        return `<li id=\"\" class=\"film-list__item\">\n  <img\n    src=\"https://image.tmdb.org/t/p/w500${film.poster_path}\"\n    alt=\"Movie Name\"\n    class=\"film-list__item-poster\"\n    loading=\"lazy\"\n  />\n  <div class=\"film-list__item-info\">\n    <h3 class=\"film-list__item-title\">${film.title}</h3>\n    <div class=\"film-list__item-details\">\n      <span class=\"film-list__item-genres\">${genres.join(', ')}</span>|\n      <span class=\"film-list__item-year\">${yearOfRelease[0]}</span>\n    </div>\n  </div>\n</li>`;\n      })\n      .join('');\n    refs.filmList.insertAdjacentHTML('beforeend', listOfFilms);\n    console.log(listOfFilms)\n  });\n}\n\n}"],"names":["$8wEuz","parcelRequire","$7126a8cfa5cf9b17$var$refs","btnWatched","document","querySelector","filmList","addEventListener","topFilms","default","page","fetchTopFilms","then","r","listOfFilms","data","results","map","film","genres","$32hWK","genresArray","filter","genre","id","genre_ids","name","yearOfRelease","release_date","split","poster_path","title","join","insertAdjacentHTML","console","log"],"version":3,"file":"library.28ef21e4.js.map"}