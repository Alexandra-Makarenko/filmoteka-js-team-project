{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,aAIMC,EAAO,CACTC,WAAYC,SAASC,cAAc,YACnCC,SAAUF,SAASC,cAAc,eAErCH,EAAKC,WAAWI,iBAAiB,SAEjC,WACI,IAAMC,EAAW,IAAI,EAAAR,EAAAS,SAGHC,EADT,EAEXF,EAASG,cAAcD,GAAME,MAAK,SAAAC,GAChC,IAAMC,EAAcD,EAAEE,KAAKC,QACxBC,KAAI,SAAAC,GACH,IAAMC,EAASC,EAAAC,YACZC,QAAO,SAAAC,G,IACDC,GAAQ,EAARC,GAAQ,EAARC,OAAQC,E,IAAb,QAAKC,EAAAC,EAAYX,EAAKY,UAASC,OAAAC,cAA1BR,GAAAI,EAAAC,EAAQI,QAAAC,MAARV,GAAQ,EACX,GADGI,EAAQO,QACAZ,EAAMa,GACf,OAAOb,EAAMc,I,UAFZZ,GAAQ,EAARC,EAAQY,C,aAARd,GAAQ,MAARK,EAAQU,QAARV,EAAQU,Q,YAARd,E,MAAAC,C,MAMNT,KAAI,SAAAM,G,OAASA,EAAMc,I,IAChBG,EAAgBtB,EAAKuB,aAAaC,MAAM,KAC9C,MAAO,uFAQyBC,OANEzB,EAAK0B,YAAY,uKAQdD,OAFLzB,EAAK2B,MAAM,iGAGRF,OADExB,EAAO2B,KAAK,MAAM,uDACHH,OAAjBH,EAAc,GAAG,uC,IAKrDM,KAAK,IACR5C,EAAKI,SAASyC,mBAAmB,YAAajC,GAC9CkC,QAAQC,IAAInC,E,IAhChB,IAAsBJ,C","sources":["src/js/watched.js"],"sourcesContent":["import ApiTopFilms from './fetchTopFilms';\nimport { genresArray } from './array-of-genres';\n\n\nconst refs = {\n    btnWatched: document.querySelector('#watched'),\n    filmList: document.querySelector('.film_list'),\n}\nrefs.btnWatched.addEventListener('click', onWatched)\n\nfunction onWatched() {\n    const topFilms = new ApiTopFilms();\n\npopularFilms(1);\nfunction popularFilms(page) {\n  topFilms.fetchTopFilms(page).then(r => {\n    const listOfFilms = r.data.results\n      .map(film => {\n        const genres = genresArray\n          .filter(genre => {\n            for (const id of film.genre_ids) {\n              if (id === genre.id) {\n                return genre.name;\n              }\n            }\n          })\n          .map(genre => genre.name);\n        const yearOfRelease = film.release_date.split('-');\n        return `<li id=\"\" class=\"film-list__item\">\n  <img\n    src=\"https://image.tmdb.org/t/p/w500${film.poster_path}\"\n    alt=\"Movie Name\"\n    class=\"film-list__item-poster\"\n    loading=\"lazy\"\n  />\n  <div class=\"film-list__item-info\">\n    <h3 class=\"film-list__item-title\">${film.title}</h3>\n    <div class=\"film-list__item-details\">\n      <span class=\"film-list__item-genres\">${genres.join(', ')}</span>|\n      <span class=\"film-list__item-year\">${yearOfRelease[0]}</span>\n    </div>\n  </div>\n</li>`;\n      })\n      .join('');\n    refs.filmList.insertAdjacentHTML('beforeend', listOfFilms);\n    console.log(listOfFilms)\n  });\n}\n\n}"],"names":["$jpaU6","parcelRequire","$a215baf1061f969f$var$refs","btnWatched","document","querySelector","filmList","addEventListener","topFilms","default","page","fetchTopFilms","then","r","listOfFilms","data","results","map","film","genres","$2cELT","genresArray","filter","genre","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","genre_ids","Symbol","iterator","next","done","value","id","name","err","return","yearOfRelease","release_date","split","concat","poster_path","title","join","insertAdjacentHTML","console","log"],"version":3,"file":"library.6d8da821.js.map"}